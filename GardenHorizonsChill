local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- Cáº¥u hÃ¬nh máº·c Ä‘á»‹nh
local autoSell = false
local sellInterval = 30 
local webhookURL = "https://discord.com/api/webhooks/1468900540791656591/8UkJWiriO0gmXAsoW_N2VxlH2BR4KyWjxovWaCGGhyAwFyNCAGslkrwXgES_Joi-mIar"
local logoURL = "https://cdn-media.sforum.vn/storage/app/media/Trang/cosplay-anime-nu-38.jpg"
local autoBuySeeds = {}

-- Láº¥y thÃ´ng tin há»‡ thá»‘ng
local function getInfo()
    local Player = game.Players.LocalPlayer
    return {
        Name = Player.Name,
        ID = Player.UserId,
        Display = Player.DisplayName,
        Job = game.JobId,
        Count = #game.Players:GetPlayers(),
        Place = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name
    }
end

-- HÃ m gá»­i Webhook giÃ¡m sÃ¡t (Logo GÃ¡i Xinh + Embed Ä‘áº¹p)
local function sendMonitoringWebhook()
    local info = getInfo()
    local data = {
        ["username"] = "Garden Horizons",
        ["avatar_url"] = logoURL,
        ["embeds"] = {{
            ["title"] = "ðŸš€ **GARDEN HORIZONS - SDVT LOADED**",
            ["description"] = "Há»‡ thá»‘ng Ä‘Ã£ sáºµn sÃ ng hoáº¡t Ä‘á»™ng!",
            ["color"] = 0x00BFFF,
            ["thumbnail"] = { ["url"] = logoURL },
            ["fields"] = {
                {
                    ["name"] = "ðŸ‘¤ **PLAYER INFO**",
                    ["value"] = ">>> **Name:** " .. info.Name .. "\n**Display:** " .. info.Display .. "\n**ID:** " .. info.ID,
                    ["inline"] = false
                },
                {
                    ["name"] = "ðŸŒ **SERVER INFO**",
                    ["value"] = ">>> **Players:** " .. info.Count .. "/6\n**Status:** Online",
                    ["inline"] = true
                },
                {
                    ["name"] = "âš™ï¸ **CONFIG**",
                    ["value"] = ">>> **Delay:** " .. sellInterval .. "s",
                    ["inline"] = true
                },
                {
                    ["name"] = "ðŸ”‘ **JOB ID**",
                    ["value"] = "```fix\n" .. info.Job .. "```",
                    ["inline"] = false
                }
            },
            ["footer"] = {
                ["text"] = "Garden Horizons SDVT â€¢ " .. os.date("%d/%m/%Y | %H:%M:%S"),
                ["icon_url"] = logoURL
            }
        }}
    }
    
    local userdata = game:GetService("HttpService"):JSONEncode(data)
    local request = http_request or request or HttpPost or syn.request
    if request then
        pcall(function()
            request({Url = webhookURL, Method = "POST", Headers = {["content-type"] = "application/json"}, Body = userdata})
        end)
    end
end

-- Khá»Ÿi cháº¡y Webhook vÃ  má»Ÿ Shop ngáº§m
task.spawn(function()
    task.wait(2)
    sendMonitoringWebhook()
    pcall(function() game:GetService("ReplicatedStorage"):WaitForChild("RemoteEvents"):WaitForChild("GetShopData"):InvokeServer("SeedShop") end)
end)

-- Khá»Ÿi táº¡o Menu
local Window = Rayfield:CreateWindow({
   Name = "Garden Horizons | Edition Group",
   LoadingTitle = "???????????????",
   LoadingSubtitle = "by ??????????",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "GardenHorizons-SDVT",
      FileName = "Config_SDVT"
   }
})

-- Tab 1: Info
local InfoTab = Window:CreateTab("Info", 4483362458)
InfoTab:CreateSection("Information")
InfoTab:CreateLabel("Script: Garden Horizons - SDVT")
InfoTab:CreateParagraph({Title = "Note", Content = "Automatically buy and sell seeds according to your own configuration."})

-- Tab 2: Main
local MainTab = Window:CreateTab("Main", 4483362458)
MainTab:CreateSection("Auto Sell")

MainTab:CreateToggle({
   Name = "Auto Sell All",
   CurrentValue = false,
   Flag = "ToggleSell", 
   Callback = function(Value)
      autoSell = Value
      if autoSell then
         task.spawn(function()
            while autoSell do
               pcall(function()
                  game:GetService("ReplicatedStorage"):WaitForChild("RemoteEvents"):WaitForChild("SellItems"):InvokeServer("SellAll")
               end)
               task.wait(sellInterval)
            end
         end)
      end
   end,
})

MainTab:CreateInput({
   Name = "Set Time Sell",
   PlaceholderText = "Best Time 30-35",
   CurrentValue = tostring(sellInterval),
   Flag = "SellIntervalConfig",
   RemoveTextAfterFocusLost = false,
   Callback = function(Text)
      local num = tonumber(Text)
      if num then sellInterval = (num < 2 and 2) or num end
   end,
})

-- Tab 3: Shop (ÄÃ£ mang quay trá»Ÿ láº¡i!)
local ShopTab = Window:CreateTab("Shop", 4483362458)
ShopTab:CreateSection("Automatically purchase seeds")

local seeds = {
    "Carrot Seed", "Corn Seed", "Onion Seed", "Strawberry Seed", 
    "Mushroom Seed", "Beetroot Seed", "Tomato Seed", "Apple Seed", 
    "Rose Seed", "Wheat Seed", "Banana Seed", "Plum Seed", 
    "Potato Seed", "Cabbage Seed", "Cherry Seed"
}

for _, seed in pairs(seeds) do
    ShopTab:CreateToggle({
        Name = "Buy " .. seed,
        CurrentValue = false,
        Flag = "Buy" .. seed:gsub(" ", ""),
        Callback = function(Value)
            autoBuySeeds[seed] = Value
            if Value then
                task.spawn(function()
                    while autoBuySeeds[seed] do
                        pcall(function()
                            game:GetService("ReplicatedStorage"):WaitForChild("RemoteEvents"):WaitForChild("PurchaseShopItem"):InvokeServer("SeedShop", seed)
                        end)
                        task.wait(1)
                    end
                end)
            end
        end,
    })
end

-- LOAD CONFIG & Cáº¬P NHáº¬T
Rayfield:LoadConfiguration()
task.spawn(function()
    task.wait(1)
    if Window.Flags["SellIntervalConfig"] then
        local savedVal = Window.Flags["SellIntervalConfig"].CurrentValue
        if tonumber(savedVal) then sellInterval = tonumber(savedVal) end
    end
end)
